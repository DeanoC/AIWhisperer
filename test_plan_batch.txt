# Batch script for testing plan endpoints
# This will be executed by Debbie in batch mode

# First, test using the tools that Agent P uses
!python3 << EOF
import sys
sys.path.append('.')
from ai_whisperer.tools.list_plans_tool import ListPlansTool
from ai_whisperer.path_management import PathManager

print("🔍 Testing plan listing via tools...")
try:
    path_manager = PathManager()
    list_tool = ListPlansTool(path_manager)
    result = list_tool.execute({})
    print(f"📋 Plans found via tool: {result}")
except Exception as e:
    print(f"❌ Tool execution failed: {e}")
EOF

# Test the isolated server endpoints
!python3 debug_plan_endpoints.py
