# Basic Sinclair ZX81 Emulator Requirements (C)

This document outlines the functional requirements for a basic Sinclair ZX81 emulator implemented in C. These requirements describe the expected behavior from the perspective of an end-user or tester, without detailing the internal implementation.

## 1. Program Compilation and Invocation

The emulator should be provided as C source code.
*   **Requirement 1.1:** The source code must be compilable using a standard C compiler (e.g., GCC).
*   **Requirement 1.2:** After successful compilation, an executable file should be generated.
*   **Requirement 1.3:** The user must be able to run the emulator by executing the compiled file from a command-line interface.

## 2. Emulator Interface

*   **Requirement 2.1:** Upon launching the executable, the emulator should display a simple, character-based screen interface.
*   **Requirement 2.2:** The initial screen should be blank or display a clear prompt indicating readiness for input (e.g., a flashing cursor or a ">" symbol).
*   **Requirement 2.3:** The user must be able to type characters on their keyboard, and these characters should appear on the simulated screen at the current cursor position.
*   **Requirement 2.4:** The user must be able to submit a typed command, typically by pressing the "Enter" key.

## 3. Supported BASIC Commands

The emulator should support a minimal set of ZX81-like BASIC commands.

*   **Requirement 3.1 (PRINT String):** The emulator must correctly interpret and execute the `PRINT "TEXT"` command, where "TEXT" is a string literal enclosed in double quotes. The content within the quotes should be displayed on the simulated screen.
    *   *Example:* Typing `PRINT "HELLO WORLD"` and pressing Enter should display `HELLO WORLD` on the screen.
*   **Requirement 3.2 (PRINT Expression):** The emulator must correctly interpret and execute the `PRINT EXPRESSION` command, where EXPRESSION is a simple arithmetic expression involving integers and basic operators (e.g., `+`, `-`). The result of the expression should be calculated and displayed on the simulated screen.
    *   *Example:* Typing `PRINT 10+5` and pressing Enter should display `15` on the screen.
*   **Requirement 3.3 (NEW):** The emulator must correctly interpret and execute the `NEW` command. This command should clear any internal state related to program lines (if supported) and clear the simulated screen, returning to the ready prompt.
*   **Requirement 3.4 (Optional - LIST):** If the emulator supports entering program lines with line numbers (e.g., `10 PRINT "HI"`), it should correctly interpret and execute the `LIST` command to display the entered program lines on the simulated screen.

## 4. Screen Output

*   **Requirement 4.1:** Output generated by commands (like `PRINT`) should appear on the simulated screen in a character-based format, mimicking the low resolution of the original ZX81.
*   **Requirement 4.2:** Output should typically appear sequentially, similar to how text was displayed on old computer terminals.
*   **Requirement 4.3:** The emulator should handle multiple lines of output. If output exceeds the available lines on the screen, the display should scroll upwards to accommodate new lines.

## 5. Error Handling

The emulator should provide feedback for invalid input.

*   **Requirement 5.1 (Unsupported Command):** If the user types a command that is not recognized or supported by the emulator, it should display a clear error message on the screen, such as "SYNTAX ERROR".
    *   *Example:* Typing `GO TO 10` (if GOTO is not supported) and pressing Enter should display `SYNTAX ERROR`.
*   **Requirement 5.2 (Syntax Error):** If the user types a supported command but with incorrect syntax, the emulator should display a clear error message on the screen, such as "SYNTAX ERROR".
    *   *Example:* Typing `PRINT "HELLO` (missing closing quote) or `PRONT "HELLO"` and pressing Enter should display `SYNTAX ERROR`.

## 6. Exiting the Emulator

*   **Requirement 6.1:** The user must have a defined way to exit the emulator application gracefully. This could be via a specific command (e.g., typing `QUIT` or `EXIT`) or a standard system method (e.g., pressing Ctrl+C in the console).